<html>
    <body>
     
    </body>
    <script>
        function doSomething()
        {
            setTimeout(()=>{
                console.log('Do something done 1');
                document.dispatchEvent(new CustomEvent("doSomethingDone",{
                    detail : "Something"
                }));
            },2000);
        }
        doSomething();

        document.addEventListener("doSomethingDone",(event)=>{
            console.log('Do Somethingdone 2',event);
        });
    </script>
    
</html>